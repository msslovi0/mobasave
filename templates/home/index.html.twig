{% extends 'base.html.twig' %}

{% block title %}{{ 'global.title.index'|trans }}{% endblock %}
{% block body %}
    <div class="flex content-center justify-center my-10">
        <img src="{{ asset('images/mobasave.svg') }}" alt="mobasave">
    </div>
    {%  if databases|length == 0 %}
    <div class="text-center relative block w-full rounded-lg border-2 border-dashed border-gray-300 p-12 text-center hover:border-gray-400 focus:outline-2 focus:outline-offset-2 focus:outline-green-800 dark:border-white/15 dark:hover:border-white/25 dark:focus:outline-green-700">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true" class="mx-auto size-12 text-gray-400 dark:text-gray-500">
            <path d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z" stroke-width="2" vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <h3 class="mt-2 text-sm font-semibold text-gray-900 dark:text-white">{% trans %}collection.no-collection.fact{% endtrans %}</h3>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">{%  trans %}collection.no-collection.claim{% endtrans %}</p>
        <div class="mt-6">
            <button type="button" class="inline-flex items-center rounded-md bg-green-800 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-green-700 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-800 dark:bg-green-700 dark:shadow-none dark:hover:bg-green-600 dark:focus-visible:outline-green-700">
                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="mr-1.5 -ml-0.5 size-5">
                    <path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z" />
                </svg>
                {% trans %}collection.new{% endtrans %}
            </button>
        </div>
    </div>
    {% else %}
        <div>
            <h2 class="text-sm font-medium text-gray-500 dark:text-gray-400">{{ 'collection.count'|trans({'count': databases}) }}</h2>
            <ul role="list" class="mt-3 grid grid-cols-1 gap-5 sm:grid-cols-2 sm:gap-6 lg:grid-cols-4">
                {% for database in databases %}
                <li class="col-span-1 flex rounded-md shadow-xs dark:shadow-none">
                    <a href="{{ path('mbs_database', {id: database.id}) }}" class="flex w-16 shrink-0 items-center justify-center rounded-l-md text-sm font-medium text-white" style="background-color: {{ database.color }}">
                        {% if database.icon != "" %}
                        <img src="{{ database.icon }}" alt="{{ database.name }}"/>
                        {% else %}
                            {% set dbname = database.name|split('',2) %}
                            {{ dbname[0][:1]|upper }}{%  if(dbname[1] is defined) %}{{ dbname[1][:1]|upper }}{%  endif %}
                        {% endif %}
                    </a>
                    <div class="flex flex-1 items-center justify-between truncate rounded-r-md border-t border-r border-b border-gray-200 bg-white dark:border-white/10 dark:bg-gray-800/50">
                        <div class="flex-1 truncate px-4 py-2 text-sm">
                            <a href="{{ path('mbs_database', {id: database.id}) }}" class="block font-medium text-gray-900 hover:text-gray-600 dark:text-white dark:hover:text-gray-200">{{ database.name }}
                                <p class="font-normal text-gray-500 dark:text-gray-400">{{ 'collection.models'|trans({'count': database.models|length|number_format(0, '.', '')})|replace({',': '','.': ''})}}</p>
                            </a>
                        </div>
                        <div class="shrink-0 pr-2">
                            <button type="button" class="inline-flex size-8 items-center justify-center rounded-full text-gray-400 hover:text-gray-500 focus:outline-2 focus:outline-offset-2 focus:outline-green-800 dark:hover:text-white dark:focus:outline-white">
                                <span class="sr-only">Open options</span>
                                <svg viewBox="0 0 20 20" fill="currentColor" data-slot="icon" aria-hidden="true" class="size-5">
                                    <path d="M10 3a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM10 8.5a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM11.5 15.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>

    {% endif %}
{% endblock %}
